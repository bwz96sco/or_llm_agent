import json


a = [
r"""

表 1 给出了 12 个工件在设备 车床、刨床、 铣床、磨床 上的加工时间，要求：

若所有工件均依次在设备 车床、刨床、 铣床、磨床 上加工（即每个工件必须先在 车床 上加工，随后依次在刨床、 铣床、磨床 上进行加工），试安排使总加工时间最短的工件加工顺序，并计算总加工时间。

## 表 1 设备 车床、刨床、 铣床、磨床 的加工时间

| 设备 | 工件     | 1  | 2  | 3  | 4  | 5  | 6  | 7  | 8  | 9  | 10 | 11 | 12 |
|-----|----------|----|----|----|----|----|----|----|----|----|----|----|----|
| 车床 | 加工时间 | 5  | 8  | 11 | 2  | 7  | 6  | 3  | 9  | 8  | 3  | 6  | 10 |
| 刨床 | 加工时间 | 5  | 9  | 4  | 3  | 7  | 9  | 5  | 4  | 9  | 5  | 3  | 4  |
| 铣床 | 加工时间 | 4  | 7  | 8  | 3  | 6  | 5  | 4  | 8  | 7  | 4  | 5  | 9  |
| 磨床 | 加工时间 | 6  | 8  | 5  | 4  | 7  | 8  | 6  | 5  | 8  | 6  | 4  | 7  |
""",

r"""


一艘货轮分前、中、后三个舱位，它们的容积与最大允许载重量如 **表 1** 所示。  
现有三种货物待运，已知有关数据列于 **表 2**。

## 表 1 最大允许载重量与容积

| 项目               | 前舱 | 中舱 | 后舱 |
|--------------------|------|------|------|
| 最大允许载重量 (t) | 2000 | 3000 | 1500 |
| 容积 (m^3)      | 4000 | 5000 | 1500 |

## 表 2 货物数据

| 商品 | 数量 (件) | 每件体积 (m^3/件) | 每件重量 (t/件) | 运价 (元/件) |
|------|-----------|---------------------|-----------------|--------------|
| A    | 600       | 10                  | 8               | 1000         |
| B    | 1000      | 5                   | 6               | 700          |
| C    | 800       | 7                   | 4               | 600          |

又为了航运安全，前、中、后舱的实际载重量大体保持各舱最大允许载重量的比例关系。  
具体要求：前、后舱分别与中舱之间载重量比例的偏差不超过 15%，前、后舱之间不超过 10%。

**问题：**  
该货轮应装载 A、B、C 各多少件货物以使收入为最大？试建立这个问题的线性规划模型。

""",

r"""


某化学公司有甲、乙、丙、丁四个化工厂生产某种产品，产量分别为 200, 300, 400, 100（t），供应 I、Ⅱ、Ⅲ、IV、V、VI 六个地区的需要，需要量分别为 200, 150, 400, 100, 150, 150（t）。由于工艺、技术等条件差别，各厂每 kg 产品成本分别为 1.2, 1.4, 1.1, 1.5（元），又由于行情不同，各地区销售价分别为 2.0, 2.4, 1.8, 2.2, 1.6, 2.0（元/kg）。已知从各厂运往各销售地区每 kg 产品运价如表 1 所示。

## 表 1 每kg产品的运价

| 工厂\地区 | I   | II  | III | IV  | V   | VI  |
|-----------|-----|-----|-----|-----|-----|-----|
| 甲        | 0.5 | 0.4 | 0.3 | 0.4 | 0.3 | 0.1 |
| 乙        | 0.3 | 0.8 | 0.9 | 0.5 | 0.6 | 0.2 |
| 丙        | 0.7 | 0.7 | 0.3 | 0.7 | 0.4 | 0.4 |
| 丁        | 0.6 | 0.4 | 0.2 | 0.6 | 0.5 | 0.8 |

如第 III 个地区至少供应 100 t，第 IV 个地区的需要必须全部满足，试确定使该公司获利最大的产品调运方案。

""",

r"""

8 月初的一个星期一，副董事长宋持平请财务、销售和生产经理到他的办公室，讨论本生产季节**聚丙烯粉料**的生产数量问题。今年按照采购计划购买的 **300,000 kg** 聚丙烯粉料已全部运抵工厂，生产将于下周一正式开始。红牡丹化工公司是一家中型化工企业，主要从事高分子改性材料的生产与销售，在东北地区拥有一定的市场知名度。

财务经理钱源和销售经理肖通先行到达。生产经理刘华随后赶到，并带来了最新的原料检验报告。报告显示：在 **300,000 kg** 的聚丙烯粉料中，大约有 **20%**（即 60,000 kg）为 **高纯度（A 级）**，其余约 **80%**（240,000 kg）为 **普通纯度（B 级）**。

---

### 不同聚丙烯改性产品的市场需求

宋持平向肖通询问下一年改性聚丙烯产品的市场需求情况。肖通表示，根据实际需要量估计，公司生产的 **改性聚丙烯 A** 能全部售出，但 **改性聚丙烯 B** 和 **改性聚丙烯 C** 的需求有一定上限。具体预计需求和基本数据见表 1。销售价格是根据公司长期市场规划而确定，销售需求来自对该定价策略的市场预测。

#### 表 1 需求预测与原料用量

| 产品               | 销售价格（元/桶） | 原料用量（kg/桶） | 需求预测（桶） |
|--------------------|-------------------|-------------------|----------------|
| 改性聚丙烯 A（A）  | 4.00              | 1.8               | 800,000        |
| 改性聚丙烯 B（B）  | 4.50              | 2.0               | 50,000         |
| 改性聚丙烯 C（C）  | 3.80              | 2.5               | 80,000         |


看完肖通的需求预测后，财务经理钱源提出：“应该尽可能把所有聚丙烯粉料用于**改性聚丙烯 A** 的生产，今年的形势相当不错。”他通过新建立的会计系统计算了各类产品的利润贡献，发现 **改性聚丙烯 A** 的利润明显高于其他产品。公司在今年 5 月与供应商签订的平均采购价格为 **0.6 元/kg**，钱源还编制了各产品的利润贡献分析表（见表 2）。

---

### A 级原料限制与品质评分

这时，生产经理刘华提醒大家：“虽然公司产能总体上足够，但不可能将所有原料都做成 **改性聚丙烯 A**，因为高纯度（A 级）原料的比例有限。”红牡丹化工公司采用数字化评分来评估聚丙烯粉料品质：**A 级原料**平均评分 9 分，**B 级原料**平均评分 5 分。根据公司的工艺标准：

- **改性聚丙烯 A** 的原料平均得分要求 ≥ 8 分
- **改性聚丙烯 B** 的原料平均得分要求 ≥ 6 分
- **改性聚丙烯 C** 可以全部用 B 级原料生产

这意味着，如果只依赖现有的 60,000 kg A 级原料，即使全部用于生产 A 产品，也只能保证 **改性聚丙烯 A** 的产量不超过 44,500 桶左右。

不过，宋持平认为这并非唯一选择。他说，曾有人提出以 **0.85 元/kg** 的价格提供 80,000 kg 额外的 A 级原料，当时公司没有采购，但如果需要，仍可尝试联系对方再次购买。

---

### 表 2 产品获利分析表 (单位：元/桶)

| 成本                 | 改性聚丙烯 A | 改性聚丙烯 B | 改性聚丙烯 C |
|----------------------|-------------|-------------|-------------|
| 销售价格             | 4.00        | 4.50        | 3.80        |
| **变动成本**         |             |             |             |
| 直接人工             | 1.18        | 1.32        | 0.54        |
| 可变管理成本         | 0.24        | 0.36        | 0.26        |
| 可变销售成本         | 0.40        | 0.85        | 0.38        |
| 包装材料             | 0.70        | 0.65        | 0.77        |
| 原材料（统一按 0.6） | 1.08        | 1.20        | 1.50        |
| 变动成本小计         | 3.60        | 4.38        | 3.45        |
| **净利润每桶**       | 0.40        | 0.12        | 0.35        |

在此基础上，销售经理肖通提出了不同观点。他认为不该只按重量简单分摊原料成本，而应考虑 A 级和 B 级原料的真实价值差异，并据此重新核算边际利润（表 3）。他提出，如果只用 200,000 kg 的 B 级原料生产 **改性聚丙烯 C**，然后用剩余 40,000 kg 的 B 级与全部 A 级原料去生产 **改性聚丙烯 B**，则可在需求全部满足的前提下达到最高利润 —— 约 **4.8 万元**。

---

### 表 3 改性聚丙烯产品的边际利润分析 (单位：元/桶)

| 产品                       | 改性聚丙烯 A | 改性聚丙烯 B | 改性聚丙烯 C |
|----------------------------|-------------|-------------|-------------|
| 销售价格                   | 4.00        | 4.50        | 3.80        |
| 变动成本 (不含原料成本)    | 2.52        | 3.18        | 1.95        |
| 原料成本 (区分 A/B 级)     | 1.48        | 1.32        | 1.85        |
| 原料成本小计               | 1.49        | 1.24        | 1.30        |
| **边际利润**               | -0.01       | 0.08        | 0.55        |

---

#### 肖通的计算依据

- \( Z = \) 每 kg A 级聚丙烯粉料的折算成本（元/kg）
- \( Y = \) 每 kg B 级聚丙烯粉料的折算成本（元/kg）

根据公司总成本和评分约束，列出方程：

\[
60000Z + 240000Y = 300000 * 0.6
\]

\[
9Y = 5Z
\]

联立求解，得到：

\[
Z = 0.931 (元/kg), Y = 0.517 (元/kg)
\]

---

### 问题：构建线性规划模型

根据上述背景，红牡丹化工公司想要确定最优的生产方案，以最大化利润。假设你是该公司的运营管理顾问，请：

1. **建立决策变量**：分别用来表示生产三种产品（改性聚丙烯 A、B、C）的数量；
2. **列出目标函数**：在满足需求预测、原料供应以及品质限制的前提下，使得公司利润最大化；
3. **设置约束条件**：
   - 原料总量约束（A 级、B 级以及可能外购的 A 级原料）；
   - 不同产品对原料品质（评分）的约束；
   - 各产品的最大需求量约束；
   - 非负性约束等。

请写出完整的线性规划模型，并给出公司在何种条件下应考虑外购更多 A 级原料（以及最佳采购数量）。由此帮助红牡丹化工公司找到最优的生产决策方案。

"""

]

b = [50, 885000.0, 445000.0, 50]


def list_to_dict_and_save_to_json(my_list, filename):
  """
  将列表转换为字典并存储为本地JSON文件。

  Args:
    my_list: 要转换的列表。
    filename: JSON文件的名称。
  """

  # 检查列表是否为空
  if not my_list:
    print("列表为空，无法转换为字典。")
    return

  # 将列表转换为字典
  my_dict = {}
  for i, item in enumerate(my_list):
    my_dict[str(i)] = item  # 使用索引作为键

  # 将字典保存为JSON文件
  with open(filename, 'w') as f:
    json.dump(my_dict, f, indent=4)  # 使用indent参数美化JSON输出

  print(f"列表已转换为字典并保存到 {filename} 文件。")

# 示例
#my_list = ['apple', 'banana', 'cherry']
# filename = 'data_question_0214.json'
# list_to_dict_and_save_to_json(a, filename)

merged_list = [{"index":i, "question": q, "answer": a} for i, (q, a) in enumerate(zip(a, b))]
list_to_dict_and_save_to_json(merged_list, 'data/datasets/dataset_md_result.json')
# 
